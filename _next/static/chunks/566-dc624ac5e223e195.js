"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{3530:function(e,r,n){n.d(r,{t8:function(){return k},Qu:function(){return M},Ih:function(){return x},tz:function(){return Z},wD:function(){return _},AM:function(){return w},Qc:function(){return S}});var t=n(9072),a=n(8160),o=n(5421),i=n(7319);function c(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||(0,o.Z)(e)||(0,i.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(9447);function u(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n.push.apply(n,t)}return n})(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}),e}var s=new Map([["scope_mood",["casescope","mood"]],["nines",["valence","phase","effect","level"]]]),f=[{grams:["version",[[["configuration",0]],[0],]]},{grams:["concatenation",["scope_mood",!1]]},{grams:["function","specification"]},{grams:["configuration"]},{grams:["extension","affiliation"]},{grams:["perspective","essence"]},{grams:[["nines",!1],["nines",!0]]},{grams:["context",["scope_mood",!0]]},{grams:["illovali"]}],v=[0,20],d=new Map,h=new Map,g=[[0,1,2,3,5,6,7,8],[0,1,2,3,4,5,7,],[0,1,2,3,4,5,],[1,3,4,5,7,],[1,3,4,5,],[3,4,5,],[4,5,],[4,]];function y(e,r,n){return r.find(function(r){var t=e.get(r[2]);return void 0===t?r[0]<=n:r[0]<=n&&!t})}function m(e){var r=h.get(e);if(void 0!==r)return r;for(var n=[],t=0;t<10;){var a=!1,o=9+e-10;(a=0<o?g[o-1].includes(t):t<10-e)&&n.push(t),t+=1}return h.set(e,n),n}function p(e,r,n){return e.forEach(function(e,t){if("string"==typeof e){var a=_[e];console.log("grammar name detected. ".concat(e,": ").concat(a)),n.push([a,0,t]),r.set(t,[a,0])}else if("boolean"==typeof e[1]){var o=s.get(e[0]),i=-1;if(void 0!==o){var c=0;(i=o.map(function(e){var r=_[e];return c=r,r}).reduce(function(e,r){return 0===e||e===r?r:-1},0))<0?console.log("択数が一定でないgrammar setは不正"):i=e[1]?o.length:c}n.push([i,1,t]),r.set(t,[i,1])}else n.push([e.length,2,t]),r.set(t,[e.length,2])}),[r,n]}function b(e){console.log("\n\ngloss() word",e);var r={or_value_to_name:!1,hide_each_zi:!1},n=(0,t.Z)(function(e){var r=new Map,n=new Map,a=new Map,o=[],i=1,h=0;f.forEach(function(s,b){console.log("skipped_slots =",a);var w=a.get(b),k=void 0!==w,_=[],Z=[],j=new Map;if(k){_=s.grams;var S=(0,t.Z)(p(_,j,[]),2),M=S[0];S[1],j=M;var O=[];_.forEach(function(e,r){return O.push([r,0])});var z=new Map([[0,O]]);Z.push([!1,z])}else{var E=function(e){console.log("\nprocess()");var r=e.grams,n=new Map,a=[],o=(0,t.Z)(p(e.grams,n,a),2),i=o[0],l=o[1];n=i,(a=l).sort(function(e,r){return r[0]-e[0]});var u=new Map,s=[],f=[],h=[],b=!0,w=!1,k=void 0;try{for(var _,Z=a[Symbol.iterator]();!(b=(_=Z.next()).done);b=!0)!function(){var e=_.value;console.log("su_type",e);var r=u.get(e[2]);if(void 0!==r&&r)return"continue";u.set(e[2],!0);var n=e[0];if(n>20)console.log("wow, ちょっと多すぎるかな");else if(n>18){var t=function(e){return e<20};if(19==n){var o=g[0].map(function(e){return e+10});t=function(e){return e<10||o.includes(e)}}var i={katate:!1,range:t,classer:function(e){return e}};s.push(i),d.set(n,i),f.push([[e[2],i]]);var c={range:t,classer:[[e[2],[function(e){return e},!0]]],katate:!1};h.push(c)}else if(n>10){var l=g.length-(n-9),v=n<18?function(e){return e<9||l>=0&&g[l].includes(e%10)}:function(e){return e%10<9},p={katate:!1,range:v,classer:function(e){return e}};s.push(p),d.set(n,p),f.push([[e[2],p]]);var b={range:v,classer:[[e[2],[function(e){return e},!0]]],katate:!1};h.push(b)}else if(n>5){var w=y(u,a,~~(20/n));if(void 0===w){var k=10%n,Z=function(e){return m(k).includes(e)},x=function(e){return e};f.push([[e[2],{katate:!0,range:Z,classer:x}]]);var j={katate:!0,range:Z,classer:[[e[2],[x,!0]]]};h.push(j)}else{var S=(20-n*w[0])/2,M=function(e){return m(S).includes(e%10)},O=[function(e){return e},!1];3===w[0]?O=[function(e){return~~(e%10/3)},!0]:2===w[0]&&(O=[function(e){return e<10?0:1},!0]),u.set(w[2],!0);var z={range:M,katate:!1,classer:[[e[2],[function(e){return e%10},!1]],[w[2],O]]};h.push(z)}}else if(n>0){var E=y(u,a,~~(10/n)),A=g.length-n;if(void 0===E){console.log("buddy undefined, taku: ".concat(n," nokos_order[i]"),g[A]);var N=function(e){return g[A].includes(e)},I={katate:!0,range:N,classer:[[e[2],[function(e){return e},!0]]]};h.push(I)}else{console.log("taku.".concat(n,", find buddy."),E);var P=E[2];u.set(P,!0);var D=n*E[0],C=[function(e){return e},!1],Q=[function(e){return e},!1],T=function(e){return 0<=e&&e<10};if(9===D)T=function(e){return 0<=e&&e<9},C=[function(e){return e%3},!0];else switch(console.log("buddy find, range",g[10-D-2]),T=function(e){return g[10-D-2].includes(e)},D){case 8:Q=[function(e){return e%2},!0];break;case 6:C=[function(e){return e%3},!0];break;case 4:C=[function(e){return 3===e||5===e?1:0},!0];break;default:console.log("impossible seki")}var $={range:T,katate:!0,classer:[[e[2],C],[E[2],Q]]};h.push($)}var F={katate:!0,range:function(e){return e<n},classer:function(e){return e}};s.push(F),d.set(n,F)}}()}catch(x){w=!0,k=x}finally{try{b||null==Z.return||Z.return()}finally{if(w)throw k}}var j=[],S=!0,M=!1,O=void 0;try{for(var z,E=h[Symbol.iterator]();!(S=(z=E.next()).done);S=!0){for(var A=z.value,N=[],I=0,P=new Map,D=new Map,C=-1;I<v[1];){if(A.range(I)){var Q=A.katate;N.push(I);var T=!0,$=!1,F=void 0;try{for(var G,U=A.classer[Symbol.iterator]();!(T=(G=U.next()).done);T=!0){var V=(0,t.Z)(G.value,2),q=V[0],B=V[1],H=D.get(q),J=(0,t.Z)(B,2),K=J[0];if(!J[1]){C=q;continue}var L=K(I);if(void 0===H){var R=new Map;R.set(L,[I]),D.set(q,[Q,R])}else{var W=(0,t.Z)(H,2),X=(W[0],W[1]),Y=X.get(L);void 0===Y?X.set(L,[I]):X.set(L,c(Y).concat([I])),D.set(q,[Q,X])}}}catch(ee){$=!0,F=ee}finally{try{T||null==U.return||U.return()}finally{if($)throw F}}}I+=1}if(C>=0){var er=!0,en=!1,et=void 0;try{for(var ea,eo=D[Symbol.iterator]();!(er=(ea=eo.next()).done);er=!0){var ei=(0,t.Z)(ea.value,2),ec=(ei[0],(0,t.Z)(ei[1],2)),el=ec[0],eu=ec[1],es=new Map,ef=!0,ev=!1,ed=void 0;try{for(var eh,eg=eu[Symbol.iterator]();!(ef=(eh=eg.next()).done);ef=!0){var ey=(0,t.Z)(eh.value,2);(ey[0],ey[1]).forEach(function(e,r){var n=es.get(r);void 0===n?es.set(r,[e]):es.set(r,c(n).concat([e]))})}}catch(em){ev=!0,ed=em}finally{try{ef||null==eg.return||eg.return()}finally{if(ev)throw ed}}D.set(C,[el,es]);break}}catch(ep){en=!0,et=ep}finally{try{er||null==eo.return||eo.return()}finally{if(en)throw et}}}console.log("process func, code_groups",D);var eb=!0,ew=!1,ek=void 0;try{for(var e_,eZ=D[Symbol.iterator]();!(eb=(e_=eZ.next()).done);eb=!0){var ex=(0,t.Z)(e_.value,2),ej=ex[0],eS=(0,t.Z)(ex[1],2),eM=(eS[0],eS[1]),eO=0,ez=!0,eE=!1,eA=void 0;try{for(var eN,eI=eM[Symbol.iterator]();!(ez=(eN=eI.next()).done);ez=!0){var eP=(0,t.Z)(eN.value,2),eD=(eP[0],eP[1]),eC=!0,eQ=!1,eT=void 0;try{for(var e$,eF=eD[Symbol.iterator]();!(eC=(e$=eF.next()).done);eC=!0){var eG=e$.value,eU=P.get(eG);if(void 0===eU){var eV=[[ej,eO]];P.set(eG,eV)}else{var eq=[ej,eO];P.set(eG,c(eU).concat([eq]))}}}catch(eB){eQ=!0,eT=eB}finally{try{eC||null==eF.return||eF.return()}finally{if(eQ)throw eT}}eO+=1}}catch(eH){eE=!0,eA=eH}finally{try{ez||null==eI.return||eI.return()}finally{if(eE)throw eA}}}}catch(eJ){ew=!0,ek=eJ}finally{try{eb||null==eZ.return||eZ.return()}finally{if(ew)throw ek}}j.push([A.katate,P])}}catch(eK){M=!0,O=eK}finally{try{S||null==E.return||E.return()}finally{if(M)throw O}}var eL={grams:r,reader_map:j,su_type_m:n};return console.log("process() -> res",eL),eL}(s);_=E.grams,Z=E.reader_map,j=E.su_type_m}console.log("slot".concat(b," was skipped <-"),k),console.log("grams=",_),console.log("reader map=",Z);var A=[],N=!1;Z.forEach(function(c,s){var v=(0,t.Z)(c,2),d=v[0],g=v[1];if(!N){var y=!1;console.log("pre_looking_i is",h),h>e.length-1&&(y=!0);var m=e.substring(h,i),p=x.get(m);console.log("str and code: ".concat(m,", ").concat(p)),A.push(m);var Z=[o.length,A.length-1],S=k?w:Z,M=void 0;if(k){var O=!0,z=!1,E=void 0;try{for(var I,P=g[Symbol.iterator]();!(O=(I=P.next()).done);O=!0){var D=(0,t.Z)(I.value,2);D[0],M=D[1],console.log("break");break}}catch(C){z=!0,E=C}finally{try{O||null==P.return||P.return()}finally{if(z)throw E}}console.log("after break")}else if(void 0!==p)void 0===(M=g.get(d?p%10:p))&&console.log("'".concat(m,"' is invalid char here"));else{y||""===m?y&&""===m&&(console.log("no skip and out of range, continue"),0===s&&(N=!0)):console.log("invalid char, continue");return}if(void 0!==M){var Q=!0,T=!1,$=void 0;try{for(var F,G=M[Symbol.iterator]();!(Q=(F=G.next()).done);Q=!0){var U=(0,t.Z)(F.value,2),V=U[0],q=U[1],B=k?0:q,H=j.get(V);if(void 0!==H){var J=H[1];if(0===J){var K=_[V];n.set(K,[B,S]),console.log("---".concat(K).concat(B))}else if(1===J){var L=_[V];console.log("---GrammarSetValue. ",L);var R=(0,t.Z)(L,2),W=R[0],X=R[1],Y=r.get(W);if(console.log("is it ok gramsetsstatus",r),void 0===Y)r.set(W,{which:X?B:-1,value:X?-1:B,which_by:X?S:[-1,-1],value_by:X?[-1,-1]:S,resolved:!1});else{console.log("read kino(), status found");var ee="";!Y.resolved&&Y.which<0?ee="which":!Y.resolved&&Y.value<0&&(ee="value"),X&&"which"===ee?r.set(W,u((0,l.Z)({},Y),{which:B,which_by:S,resolved:!0})):X||"value"!==ee?console.log("status cant resolved"):r.set(W,u((0,l.Z)({},Y),{value:B,value_by:S,resolved:!0}))}}else if(2===J){var er=_[V];console.log("read kino, skips",er);var en=er[B],et=[],ea=!0,eo=!1,ei=void 0;try{for(var ec,el=en[Symbol.iterator]();!(ea=(ec=el.next()).done);ea=!0){var eu=ec.value;if("number"==typeof eu)for(var es=b;es<f.length;){var ef=b+1+eu;void 0===a.get(ef)&&et.push(ef),es+=1}else if("number"==typeof eu[1])void 0===n.get(eu[0])&&n.set(eu[0],[eu[1],S]);else{var ev=(0,t.Z)(eu,2),ed=ev[0],eh=ev[1],eg=r.get(ed);if(void 0===eg)r.set(ed,{resolved:!1,which:eh?B:-1,value:eh?-1:B,which_by:eh?S:[-1,-1],value_by:eh?[-1,-1]:S});else{var ey="";!eg.resolved&&eg.which<0?ey="value":!eg.resolved&&eg.value<0&&(ey="which"),eh&&"which"==ey?r.set(ed,u((0,l.Z)({},eg),{which:B,which_by:S,resolved:!0})):eh||"value"!=ey||r.set(ed,u((0,l.Z)({},eg),{value:B,value_by:S,resolved:!0}))}}}}catch(em){eo=!0,ei=em}finally{try{ea||null==el.return||el.return()}finally{if(eo)throw ei}}var ep=!0,eb=!1,ew=void 0;try{for(var ek,e_=et[Symbol.iterator]();!(ep=(ek=e_.next()).done);ep=!0){var eZ=ek.value;a.set(eZ,S)}}catch(ex){eb=!0,ew=ex}finally{try{ep||null==e_.return||e_.return()}finally{if(eb)throw ew}}}}else console.log("about gram was undefined...")}}catch(ej){T=!0,$=ej}finally{try{Q||null==G.return||G.return()}finally{if(T)throw $}}}else console.log("slot reader why undefined...");k||(h=i,i+=1)}}),N||o.push(A)}),console.log("read kino func, gram_resolved",n),console.log("read kino func, gram_sets_status",r);var b=new Map,w=!0,k=!1,_=void 0;try{for(var Z,j=n[Symbol.iterator]();!(w=(Z=j.next()).done);w=!0){var S=(0,t.Z)(Z.value,2),M=S[0],O=(0,t.Z)(S[1],2),z=O[0],E=(0,t.Z)(O[1],2),A=E[0],N=E[1],I=b.get(A),P=[[!1,M],z,N];void 0===I?b.set(A,[P]):b.set(A,c(I).concat([P]))}}catch(D){k=!0,_=D}finally{try{w||null==j.return||j.return()}finally{if(k)throw _}}var C=!0,Q=!1,T=void 0;try{for(var $,F=r[Symbol.iterator]();!(C=($=F.next()).done);C=!0){var G=(0,t.Z)($.value,2),U=G[0],V=G[1],q=V.resolved,B=V.which,H=V.value,J=V.which_by,K=V.value_by;if(q){var L=b.get(K[0]),R=s.get(U);if(void 0!==R){var W=[[!1,R[B]],H,K[1]];void 0===L?b.set(K[0],[W]):b.set(K[0],c(L).concat([W]));var X=J[0],Y=b.get(X),ee=[[!0,U],B,J[1]];void 0===Y?b.set(X,[ee]):b.set(X,c(Y).concat([ee]))}}}}catch(er){Q=!0,T=er}finally{try{C||null==F.return||F.return()}finally{if(Q)throw T}}return console.log("read_kino() setu zi s",o),console.log("read_kino() where m",b),[o,b,r]}(e),3),a=n[0],o=n[1],i=n[2],h="",b=[];return a.forEach(function(e,n){var a=o.get(n),l="",u=[];void 0!==a&&(a.sort(function(e,r){return e[2]-r[2]}),e.forEach(function(e,n){var o=a.filter(function(e){return e[2]===n}),f="",v=[],d=!0,h=!1,g=void 0;try{for(var y,m=o[Symbol.iterator]();!(d=(y=m.next()).done);d=!0)!function(){var e=y.value,n=(0,t.Z)(e,3),a=n[0],o=n[1];n[2];var l=(0,t.Z)(a,2),u=l[0],d=l[1],h="",g=[];if(r.or_value_to_name)h="value to name";else if(u){var m=s.get(d),p="",b=[];if(void 0!==m){var w=i.get(d);void 0!==w&&(m.forEach(function(e,r){var n=r===w.which?"*":"";p+=", ".concat(n).concat(e),b=c(b).concat([[n,"other",0],[e,"attr",0],[", ","delem",0]])}),b.pop())}p=p.substring(2),h="[".concat(p,"]"),g=[["[","kakko",0]].concat(c(b),[["]","kakko",0]])}else h="".concat(d).concat(o),g=[[d,"attr",0],["".concat(o),"value",0]];f+=k.zi+h,v=c(v).concat([[k.zi,"delem",0]],c(g))}()}catch(p){h=!0,g=p}finally{try{d||null==m.return||m.return()}finally{if(h)throw g}}var b=r.hide_each_zi?"":e+k.zi_grammar,w=r.hide_each_zi?[]:[[e,"spell",0],[k.zi_grammar,"delem",0]];l+=b+f.substring(k.zi.length)+k.keitaiso,v.shift(),u=c(u).concat(c(w),c(v),[[k.keitaiso,"delem",0]])}),l=l.substring(0,l.length-1),u.pop()),h+=l+k.keitaiso_grammars,b=c(b).concat(c(u),[[k.keitaiso_grammars,"delem",0]])}),h=h.substring(0,h.length-k.keitaiso_grammars.length),b.pop(),[h,b]}var w=[{char:"w",yubi:3,dan:1,left:!0},{char:"e",yubi:2,dan:1,left:!0},{char:"r",yubi:1,dan:1,left:!0},{char:"s",yubi:3,dan:0,left:!0},{char:"d",yubi:2,dan:0,left:!0},{char:"f",yubi:1,dan:0,left:!0},{char:"z",yubi:3,dan:-1,left:!0},{char:"x",yubi:2,dan:-1,left:!0},{char:"c",yubi:1,dan:-1,left:!0},{char:"a",yubi:4,dan:0,left:!0},{char:"o",yubi:3,dan:1,left:!1},{char:"i",yubi:2,dan:1,left:!1},{char:"u",yubi:1,dan:1,left:!1},{char:"l",yubi:3,dan:0,left:!1},{char:"k",yubi:2,dan:0,left:!1},{char:"j",yubi:1,dan:0,left:!1},{char:".",yubi:3,dan:-1,left:!1},{char:",",yubi:2,dan:-1,left:!1},{char:"m",yubi:1,dan:-1,left:!1},{char:";",yubi:4,dan:0,left:!1},],k={word:"  ,  ",grammar:".",keitaiso_grammars:"-",keitaiso:"/",zi:".",zi_grammar:":"},_={concatenation:3,stem:4,version:2,specification:4,function:2,context:4,affiliation:4,configuration:20,extension:6,perspective:4,essence:2,valence:9,phase:9,effect:9,level:9,mood:6,casescope:6,aspect:36,illocution:2,validation:8,illovali:17,case:68},Z=new Map,x=new Map;function j(e){return e.match(/^[wersdfzxcuiojklm,\.]+$/)}function S(e){var r=e.split("\n"),n=(e.match(/\S+/g)||[]).length,a=0==r.length?0!=n?1:0:r.length,o=(e.match(/\S/g)||[]).length,i=(e.match(/\S +/g)||[]).length;return{res:r.map(function(e,r){return function(e,r){var n=k.word,a=e.match(/\S+/g);if(!a)return[e,[]];var o=[],i=[],l=!1,u="root";for(var s in a){var f=a[s];if(void 0!=f){if(l){var v=(0,t.Z)(b(f),2),d=v[0],h=v[1];if(!d)return["line[".concat(r,"] word[").concat(s,"] invalid kino: '").concat(f,"'"),[]];o.push("".concat(d," :kino")),i.push(c(h).concat([[" :","delem",0],["kino","attr",1]])),u="kino",l=!1}else{if(l=!0,!j(f))return["line[".concat(r,"] word[").concat(s,"] invalid root: '").concat(f,"'"),[]];o.push("".concat(f," :root")),i.push([[f,"spell",0],[" :","delem",0],["root","attr",1]]),u="root"}}}var g=o.reduce(function(e,r){return e+n+r},""),y=[];return i.forEach(function(e){y=c(y).concat([[n,"delem",0]],c(e))}),"kino"!=u&&(g+="...",y.push(["...","other",0])),y.shift(),[g=g.substring(n.length),y]}(e,r)}),info:{mojisu:i==n?o+i-1:o+i,linebreak:a,word:n}}}var M=function(e){switch(e){case"mojisu":return"字数";case"linebreak":return"行数";case"word":return"語数";default:return"??"}}},7566:function(e,r,n){n.r(r);var t=n(9072),a=n(1527);n(959);var o=n(3530),i=function(e){var r=void 0===e.res?{res:[],info:{mojisu:0,word:0,linebreak:0}}:e.res;return o.AM.forEach(function(e,r){o.tz.set(r,e),o.Ih.set(e.char,r)}),(0,a.jsxs)("div",{className:"output",children:[(0,a.jsx)("div",{className:"short",children:r.res.map(function(e,r){var n=(0,t.Z)(e,2),o=(n[0],n[1]);return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"gyo styled",children:o.map(function(e){var r=(0,t.Z)(e,3),n=r[0],o=r[1],i=r[2],c="".concat(o," ").concat(o).concat(i);return(0,a.jsx)("span",{className:c,children:n},n)})},"styled_gyo".concat(r))},"gyo".concat(r))})}),(0,a.jsx)("div",{className:"detail",children:"detail"}),(0,a.jsx)("div",{className:"info",children:r.info?(0,a.jsx)(a.Fragment,{children:["mojisu","word","linebreak"].map(function(e){var n=r.info[e];return(0,a.jsxs)("div",{className:"child",children:[(0,o.Qu)(e),": ",n]},e)})}):""})]})};r.default=i},8160:function(e,r,n){n.d(r,{Z:function(){return t}});function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}},5421:function(e,r,n){n.d(r,{Z:function(){return t}});function t(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}},9072:function(e,r,n){n.d(r,{Z:function(){return o}});var t=n(5421),a=n(7319);function o(e,r){return function(e){if(Array.isArray(e))return e}(e)||(0,t.Z)(e,r)||(0,a.Z)(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7319:function(e,r,n){n.d(r,{Z:function(){return a}});var t=n(8160);function a(e,r){if(e){if("string"==typeof e)return(0,t.Z)(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return(0,t.Z)(e,r)}}}}]);