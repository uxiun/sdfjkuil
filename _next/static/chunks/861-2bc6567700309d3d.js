"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{5861:function(e,r,t){function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function o(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||n(e,r)||o(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.r(r),t.d(r,{default:function(){return I}});var l=t(1527),c=t(959);function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||n(e)||o(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=t(9447);function f(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}var v=new Map([["scope_mood",["casescope","mood"]],["nines",["valence","phase","effect","level"]]]),d=[{grams:["version",[[],[0,2,3,4,5],[0,2,4,5],[0,2,3,5],[0,3,6],[["aspector",0],6]]],fill:[]},{grams:["concatenation",["scope_mood",!1]],fill:[]},{grams:["function","specification"],fill:[[[0]]]},{grams:["configuration"],fill:[]},{grams:["affiliation",["scope_mood",!0]],fill:[[[0]]]},{grams:["extension","aspector"],fill:[]},{grams:["perspective","essence"],fill:[[[0]]]},{grams:[["nines",!1],["nines",!0]],fill:[[[0]]]},{grams:["context","casegroup"],fill:[[[0]]]},{grams:["illovali"],fill:[]}],h=[0,20],g=[4,5,3,1,8,0,2,7,6,9];function y(e){var r=new Map;return g.forEach(function(t,n){var a=!0,o=!1,l=void 0;try{for(var c,s=e.entries()[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var u=i(c.value,2),f=u[0],v=u[1];v.some(function(e){return e%10===t})&&(r.set(r.size,v),e.delete(f))}}catch(d){o=!0,l=d}finally{try{a||null==s.return||s.return()}finally{if(o)throw l}}}),r}var m=new Map,p=new Map,b=[[0,1,2,3,5,6,7,8],[0,1,2,3,4,5,7,],[0,1,2,3,4,5,],[1,3,4,5,7,],[1,3,4,5,],[3,4,5,],[4,5,],[4,]];function w(e,r,t){return r.find(function(r){var n=e.get(r[2]);return void 0===n?r[0]<=t:r[0]<=t&&!n})}function k(e){var r=p.get(e);if(void 0!==r)return r;for(var t=[],n=0;n<10;){var a=!1,o=9+e-10;(a=0<o?b[o-1].includes(n):n<10-e)&&t.push(n),n+=1}return p.set(e,t),t}function _(e,r){var t=new Map;return Object.entries(e).forEach(function(e){var n=i(e,2),a=n[0],o=n[1],l=new Map,c=[];o.forEach(function(e,t){if("string"==typeof e){if(void 0===r.get(e)){var n=z[e];console.log("grammar name detected. ".concat(e,": ").concat(n)),c.push([n,0,t]),l.set(t,[n,0])}}else if("boolean"==typeof e[1]){var a=v.get(e[0]),o=-1;if(void 0!==a){var i=0;(o=a.map(function(e){var r=z[e];return i=r,r}).reduce(function(e,r){return 0===e||e===r?r:-1},0))<0?console.log("択数が一定でないgrammar setは不正"):o=e[1]?a.length:i}c.push([o,1,t]),l.set(t,[o,1])}else c.push([e.length,2,t]),l.set(t,[e.length,2])}),t.set(a,[l,c])}),t}function x(e){console.log("\n\ngloss() word",e);var r={or_value_to_name:!1,hide_each_zi:!1},t=i(function(e){var r=new Map,t=new Map,n=new Map,a=[],o=1,l=0;d.forEach(function(c,v){var p=n.get(v),x=void 0!==p,S=[],j=[],M=new Map;if(x){S=c.grams;var z=_(c,t),E=z.get("grams");if(void 0===E)return;M=z;var A=i(E,2),N=A[0];A[1];var I=[];S.forEach(function(e,r){var n=[r,0],a=N.get(r);if(void 0!==a&&0==a[1]){var o=t.get(e);if(void 0!==o){var l=i(o,2),c=l[0];l[1],n[1]=c}}I.push(n)});var P=new Map([[0,I]]);j.push([!1,P])}else{var Z=function(e,r){console.log("\nprocess()");var t=e.grams,n=new Map,a=[],o=_(e,r),l=o.get("grams");if(void 0!==l){n=(j=i(l,2))[0],(a=j[1]).sort(function(e,r){return r[0]-e[0]});var c=new Map,u=[],f=[],v=new Map,d=[],p=!0,x=!1,S=void 0;try{for(var j,M,z=a[Symbol.iterator]();!(p=(M=z.next()).done);p=!0)!function(){var n=M.value,o=i(n,3),l=(o[0],o[1]),s=o[2],h=c.get(s),g=!1;if(0==l&&void 0!==r.get(t[s])&&(g=!0),void 0!==h&&h||g)return console.log("continue_used or resolved, so continue"),console.log("grammar...",e.grams[s]),"continue";c.set(s,!0),d.push(s);var y=n[0];if(y>20)console.log("wow, ちょっと多すぎるかな");else if(y>18){var p=function(e){return e<20};if(19==y){var _=b[0].map(function(e){return e+10});p=function(e){return e<10||_.includes(e)}}var x={katate:!1,range:p,classer:function(e){return e}};u.push(x),m.set(y,x),f.push([[s,x]]);var S={range:p,classer:[[s,[function(e){return e},!0]]],katate:!1};v.set(s,S)}else if(y>10){var j=b.length-(y-9),z=y<18?function(e){return e<9||j>=0&&b[j].includes(e%10)}:function(e){return e%10<9},E={katate:!1,range:z,classer:function(e){return e}};u.push(E),m.set(y,E),f.push([[s,E]]),v.set(s,{range:z,classer:[[s,[function(e){return e},!0]]],katate:!1})}else if(y>5){var O=w(c,a,~~(20/y));if(void 0===O){var A=10%y,N=function(e){return k(A).includes(e)},I=function(e){return e};f.push([[s,{katate:!0,range:N,classer:I}]]),v.set(s,{katate:!0,range:N,classer:[[s,[I,!0]]]})}else{var P=(20-y*O[0])/2,Z=function(e){return k(P).includes(e%10)},$=[function(e){return e},!1];3===O[0]?$=[function(e){return~~(e%10/3)},!0]:2===O[0]&&($=[function(e){return e<10?0:1},!0]),c.set(O[2],!0);var C={range:Z,katate:!1,classer:[[s,[function(e){return e%10},!1]],[O[2],$]]};v.set(s,C)}}else if(y>0){var D=w(c,a,~~(20/y)),F=b.length-y;if(void 0===D){console.log("buddy undefined, taku: ".concat(y," nokos_order[i]"),b[F]);var T=function(e){return b[F].includes(e)};v.set(s,{katate:!0,range:T,classer:[[s,[function(e){return e},!0]]]})}else{console.log("taku.".concat(y,", find buddy."),D);var U=D[2];c.set(U,!0);var q=y*D[0],B=q%10,G=[function(e){return e},!1],H=[function(e){return e},!1],J=function(e){return 0<=e&&e<10};if(q<=10){if(0===B)H=[function(e){return e%10%2},!0];else if(9===B)J=function(e){return 0<=e&&e<9},G=[function(e){return e%3},!0];else switch(console.log("buddy find, range",b[10-B-2]),J=function(e){return b[10-B-2].includes(e)},B){case 8:H=[function(e){return e%10%2},!0];break;case 6:G=[function(e){return e%10%3},!0];break;case 4:G=[function(e){return e%10==3||e%10==5?1:0},!0];break;default:console.log("impossible seki")}}else switch(q){case 16:J=function(e){return b[0].includes(e%10)},8===y?H=[function(e){return e<10?0:1},!0]:G=[function(e){return e%10%2+(e<10?0:2)},!0];break;case 20:J=function(e){return 0<=e&&e<20},H=[function(e){return e%10%2+(e<10?0:2)},!0];break;case 15:J=function(e){return e<9||b[3].includes(e%10)},H=[function(e){return e<10?e%2:2},!0];break;case 12:J=function(e){return e<9||b[5].includes(e%10)},G=[function(e){return e<10?~~(e/3):3},!0];break;default:console.log("impossible real seki",q)}var K={range:J,katate:q<=10,classer:[[s,G],[U,H]]};v.set(s,K)}var L={katate:!0,range:function(e){return e<y},classer:function(e){return e}};u.push(L),m.set(y,L)}}()}catch(E){x=!0,S=E}finally{try{p||null==z.return||z.return()}finally{if(x)throw S}}var O=[];d.sort(),console.log("used_gramsid_list",d);var A=[],N=!0,I=!1,P=void 0;try{for(var Z,$=d[Symbol.iterator]();!(N=(Z=$.next()).done);N=!0){var C=Z.value,D=v.get(C),F=[];if(void 0!==D){for(var T=[],U=0,q=new Map,B=-1,G=D.katate;U<h[1];){if(D.range(U)){T.push(U);var H=!0,J=!1,K=void 0;try{for(var L,Q=D.classer[Symbol.iterator]();!(H=(L=Q.next()).done);H=!0){var R=i(L.value,2),V=R[0],W=R[1],X=q.get(V),Y=i(W,2),ee=Y[0];if(!Y[1]){B=V;continue}var er=ee(G?U%10:U);if(void 0===X){var et=new Map;et.set(er,[U]),q.set(V,[G,et])}else{var en=i(X,2),ea=en[0],eo=en[1],ei=eo.get(er);void 0===ei?eo.set(er,[U]):eo.set(er,s(ei).concat([U])),q.set(V,[ea,eo])}}}catch(el){J=!0,K=el}finally{try{H||null==Q.return||Q.return()}finally{if(J)throw K}}}else(G&&U<10||!G)&&F.push(U);U+=1}if(B>=0){var ec=!0,es=!1,eu=void 0;try{for(var ef,ev=q[Symbol.iterator]();!(ec=(ef=ev.next()).done);ec=!0){var ed=i(ef.value,2),eh=(ed[0],i(ed[1],2)),eg=eh[0],ey=eh[1],em=new Map,ep=!0,eb=!1,ew=void 0;try{for(var ek,e_=ey[Symbol.iterator]();!(ep=(ek=e_.next()).done);ep=!0){var ex=i(ek.value,2);(ex[0],ex[1]).sort(function(e,r){var t=g.findIndex(function(r){return r===e%10}),n=g.findIndex(function(e){return e===r%10});return t-n}).forEach(function(e,r){var t=em.get(r);void 0===t?em.set(r,[e]):em.set(r,s(t).concat([e]))})}}catch(eS){eb=!0,ew=eS}finally{try{ep||null==e_.return||e_.return()}finally{if(eb)throw ew}}q.set(B,[eg,em]);break}}catch(ej){es=!0,eu=ej}finally{try{ec||null==ev.return||ev.return()}finally{if(es)throw eu}}}console.log("process func, code_groups",q);var eM=new Map,ez=!0,eE=!1,eO=void 0;try{for(var eA,eN=q[Symbol.iterator]();!(ez=(eA=eN.next()).done);ez=!0){var eI=i(eA.value,2),eP=eI[0],eZ=i(eI[1],2),e$=(eZ[0],eZ[1]),eC=0,eD=y(e$);console.log("gramid=",eP,"easy_ord_code_group=",eD);var eF=!0,eT=!1,eU=void 0;try{for(var eq,eB=eD[Symbol.iterator]();!(eF=(eq=eB.next()).done);eF=!0){var eG=i(eq.value,2),eH=(eG[0],eG[1]),eJ=!0,eK=!1,eL=void 0;try{for(var eQ,eR=eH[Symbol.iterator]();!(eJ=(eQ=eR.next()).done);eJ=!0){var eV=eQ.value,eW=eM.get(eV);if(void 0===eW){var eX=[[eP,eC]];eM.set(eV,eX)}else{var eY=[eP,eC];eM.set(eV,s(eW).concat([eY]))}}}catch(e0){eK=!0,eL=e0}finally{try{eJ||null==eR.return||eR.return()}finally{if(eK)throw eL}}eC+=1}}catch(e1){eT=!0,eU=e1}finally{try{eF||null==eB.return||eB.return()}finally{if(eT)throw eU}}}}catch(e2){eE=!0,eO=e2}finally{try{ez||null==eN.return||eN.return()}finally{if(eE)throw eO}}O.push([D.katate,eM])}else console.log("unexpected masume===undefined");A.push(F)}}catch(e3){I=!0,P=e3}finally{try{N||null==$.return||$.return()}finally{if(I)throw P}}var e4={grams:t,reader_map:O,su_type_m:n,susutypem:o};return console.log("process() -> res",e4),e4}}(c,t);void 0!==Z&&(S=Z.grams,j=Z.reader_map,M=Z.susutypem)}var $=[];j.forEach(function(c,s){var h=i(c,2),g=h[0],y=h[1],m=new Map,b=!1;console.log("pre_looking_i is",l),l>e.length-1&&(b=!0);var w=e.substring(l,o),k=O.get(w),_=[a.length,s],j=x?p:_,z=void 0;if(x){var E=!0,A=!1,N=void 0;try{for(var I,P=y[Symbol.iterator]();!(E=(I=P.next()).done);E=!0){var Z=i(I.value,2);Z[0],z=Z[1];break}}catch(C){A=!0,N=C}finally{try{E||null==P.return||P.return()}finally{if(A)throw N}}}else void 0!==k?void 0===(z=y.get(g?k%10:k))&&m.set(w,{inlength:!b,close:!0,valid:!1}):b&&""===w||m.set(w,{inlength:!b,close:!0,valid:!1});var D=!1;if(void 0!==z){z.sort(function(e,r){return e[0]-r[0]});var F=!0,T=!1,U=void 0;try{for(var q,B=z[Symbol.iterator]();!(F=(q=B.next()).done);F=!0)!function(){var e=i(q.value,2),o=e[0],l=e[1],c=x?0:l,s=i(null!==(G=M.get("grams"))&&void 0!==G?G:[new Map,[]],2),h=s[0];s[1];var g=h.get(o);if(void 0!==g){var y=g[1];if(0===y){var p=S[o];t.set(p,[c,j]),m.set(w,{inlength:!b,close:!0,valid:!0})}else if(1===y){var k=S[o],_=i(k,2),z=_[0],E=_[1],O=r.get(z);if(void 0===O)r.set(z,{which:E?c:-1,value:E?-1:c,which_by:E?j:[-1,-1],value_by:E?[-1,-1]:j,resolved:!1}),m.set(w,{inlength:!b,close:!1,valid:!0});else{var A="";!O.resolved&&O.which<0?A="which":!O.resolved&&O.value<0&&(A="value");var N=!1;if(E&&"which"===A){r.set(z,f((0,u.Z)({},O),{which:c,which_by:j,resolved:!0})),N=!0;var I=a[O.value_by[0]];if(void 0===I);else{var P=I[O.value_by[1]];void 0!==P&&P.forEach(function(e,r){P.set(r,f((0,u.Z)({},e),{close:!0}))})}}else if(!E&&"value"===A){r.set(z,f((0,u.Z)({},O),{value:c,value_by:j,resolved:!0})),N=!0;var Z=a[O.which_by[0]];if(void 0===Z);else{var $=Z[O.value_by[1]];void 0!==$&&$.forEach(function(e,r){$.set(r,f((0,u.Z)({},e),{close:!0}))})}}m.set(w,{inlength:!b,close:N,valid:!0})}}else if(2===y){m.set(w,{inlength:!b,close:!0,valid:!0});var C=S[o][c];if(C.length>0){var F=[],T=!0,U=!1,B=void 0;try{for(var G,H,J=C[Symbol.iterator]();!(T=(H=J.next()).done);T=!0){var K=H.value;if("number"==typeof K)for(var L=v;L<d.length;){var Q=v+1+K;void 0===n.get(Q)&&F.push(Q),L+=1}else if("number"==typeof K[1])void 0===t.get(K[0])&&t.set(K[0],[K[1],j]);else{var R=i(K,2),V=R[0],W=R[1],X=r.get(V);if(void 0===X)r.set(V,{resolved:!1,which:W?c:-1,value:W?-1:c,which_by:W?j:[-1,-1],value_by:W?[-1,-1]:j});else{var Y="";!X.resolved&&X.which<0?Y="value":!X.resolved&&X.value<0&&(Y="which"),W&&"which"==Y?r.set(V,f((0,u.Z)({},X),{which:c,which_by:j,resolved:!0})):W||"value"!=Y||r.set(V,f((0,u.Z)({},X),{value:c,value_by:j,resolved:!0}))}}}}catch(ee){U=!0,B=ee}finally{try{T||null==J.return||J.return()}finally{if(U)throw B}}var er=!0,et=!1,en=void 0;try{for(var ea,eo=F[Symbol.iterator]();!(er=(ea=eo.next()).done);er=!0){var ei=ea.value;n.set(ei,j)}}catch(el){et=!0,en=el}finally{try{er||null==eo.return||eo.return()}finally{if(et)throw en}}}else D=!0}}else console.log("about gram was undefined...")}()}catch(G){T=!0,U=G}finally{try{F||null==B.return||B.return()}finally{if(T)throw U}}}else console.log("slot reader why undefined...");x||(console.log("looking index incremented, empty_skip=".concat(D)),l=o,o+=1),console.log("tar_str=".concat(w,"\nnewsetu="),m),$.push(m)}),a.push($)});var c=e.substring(l);if(""!==c){var p=new Map([[c,{inlength:!1,close:!0,valid:!0}]]);a.push([p])}console.log("read kino func, gram_resolved",t),console.log("read kino func, gram_sets_status",r);var x=new Map,S=!0,j=!1,M=void 0;try{for(var z,E=t[Symbol.iterator]();!(S=(z=E.next()).done);S=!0){var A=i(z.value,2),N=A[0],I=i(A[1],2),P=I[0],Z=i(I[1],2),$=Z[0],C=Z[1],D=x.get($),F=[[!1,N],P,C];void 0===D?x.set($,[F]):x.set($,s(D).concat([F]))}}catch(T){j=!0,M=T}finally{try{S||null==E.return||E.return()}finally{if(j)throw M}}var U=!0,q=!1,B=void 0;try{for(var G,H=r[Symbol.iterator]();!(U=(G=H.next()).done);U=!0){var J=i(G.value,2),K=J[0],L=J[1],Q=L.resolved,R=L.which,V=L.value,W=L.which_by,X=L.value_by,Y=v.get(K);if(void 0!==Y){if(Q){var ee=x.get(X[0]),er=[[!1,Y[R]],V,X[1]];void 0===ee?x.set(X[0],[er]):x.set(X[0],s(ee).concat([er]));var et=W[0],en=x.get(et),ea=[[!0,K],R,W[1]];void 0===en?x.set(et,[ea]):x.set(et,s(en).concat([ea]))}else if(R<0){var eo=x.get(X[0]),ei=[[!0,K],V,X[1]];void 0===eo?x.set(X[0],[ei]):x.set(X[0],s(eo).concat([ei]))}else if(V<0){var el=W[0],ec=x.get(el),es=[[!0,K],R,W[1]];void 0===ec?x.set(el,[es]):x.set(el,s(ec).concat([es]))}}}}catch(eu){q=!0,B=eu}finally{try{U||null==H.return||H.return()}finally{if(q)throw B}}return console.log("read_kino() setu zi s",a),console.log("read_kino() where m",x),[a,x,r]}(e),3),n=t[0],a=t[1],o=t[2],l="",c=[];return n.forEach(function(e,t){var n=a.get(t),u="",f=[],d=!1,h={inlength:{list:[],pre:!1},valid:{list:[],pre:!1},close:{list:[],pre:!1}},g={inlength:!0,valid:!0,close:!0},y=new Map;0===e.length&&(d=!0);var m=!0,p=0;e.forEach(function(e,t){var a="";f=s(f).concat([[M.keitaiso,"delem",0]]),m=0===e.size&&m;var l=void 0;e.forEach(function(c,m){d=!1;var p=!1,b=!1,w=[];if(Object.entries(c).forEach(function(r){var n=i(r,2),a=n[0],o=n[1];y.set(m,c),h[a];var s=g[a];o?("inlength"===a||"valid"===a)&&(s||(p=!0),"inlength"===a&&(l=!1)):("inlength"===a||"valid"===a)&&(b=!0,(o!==s||t===e.size-1&&b)&&(p=!0),"inlength"===a&&void 0===l&&(l=!0)),p&&w.push(a)}),b&&(a+=m),p&&""!==m){var k=[],_=!0,x=!1,S=void 0;try{for(var z,E=w[Symbol.iterator]();!(_=(z=E.next()).done);_=!0){var O=z.value;"inlength"===O&&k.push("overlength"),"valid"===O&&k.push("invalid at least here")}}catch(A){x=!0,S=A}finally{try{_||null==E.return||E.return()}finally{if(x)throw S}}var N=[],I=!0,P=!1,Z=void 0;try{for(var $,C=k[Symbol.iterator]();!(I=($=C.next()).done);I=!0){var D=$.value;N=s(N).concat([[D,"message",0],[", ","delem",0]])}}catch(F){P=!0,Z=F}finally{try{I||null==C.return||C.return()}finally{if(P)throw Z}}N.pop(),f=s(f).concat([[j.message[0],"kakko",0],[j.zi[0],"kakko",0],[0===t?m:a,"spell",0],[j.zi[1],"kakko",0],[M.zi_grammar,"delem",0]],s(N),[[j.message[1],"kakko",0]]),a="",g=c;return}if(g=c,void 0!==n){var T=n.filter(function(e){return e[2]===t}),U="",q=[],B=!0,G=!1,H=void 0;try{for(var J,K=T[Symbol.iterator]();!(B=(J=K.next()).done);B=!0)!function(){var e=J.value,t=i(e,3),n=t[0],a=t[1];t[2];var l=i(n,2),c=l[0],u=l[1],f="",d=[];if(r.or_value_to_name)f="value to name";else if(c){var h=v.get(u),g="",y=[];if(void 0!==h){var m=o.get(u);void 0===m||(h.forEach(function(e,r){var t=r===m.which?"*":"";g+=", ".concat(t).concat(e),y=s(y).concat([[t,"other",0],[e,"attr",0],[M.listitem,"delem",0]])}),y.pop(),g=g.substring(2),f="[".concat(g,"]"),d=[[j.gramset[0],"kakko",0]].concat(s(y),[[j.gramset[1],"kakko",0]]),m.resolved||(d=s(d).concat([["".concat(m.value),"value",0]])))}}else f="".concat(u).concat(a),d=[[u,"attr",0],["".concat(a),"value",0]];U+=M.zi+f,q=s(q).concat([[M.zi,"delem",0]],s(d))}()}catch(L){G=!0,H=L}finally{try{B||null==K.return||K.return()}finally{if(G)throw H}}var Q=[[j.zi[0],"kakko",0],[m,"spell",0],[j.zi[1],"kakko",0]],R=j.zi[0]+m+j.zi[1],V=r.hide_each_zi?"":R+M.zi_grammar,W=r.hide_each_zi?[]:s(Q).concat([[M.zi_grammar,"delem",0]]);u+=V+U.substring(M.zi.length)+M.keitaiso,q.shift(),f=s(f).concat(s(W),s(q),s([])),u=u.substring(0,u.length-1)}}),p++}),e.length>0&&f.shift(),l+=u+M.keitaiso_grammars,m||d||(c=s(c).concat(s(f),[[M.keitaiso_grammars,"delem",0]]))}),l=l.substring(0,l.length-M.keitaiso_grammars.length),c.pop(),[l,c]}var S=[{char:"w",yubi:3,dan:1,left:!0},{char:"e",yubi:2,dan:1,left:!0},{char:"r",yubi:1,dan:1,left:!0},{char:"s",yubi:3,dan:0,left:!0},{char:"d",yubi:2,dan:0,left:!0},{char:"f",yubi:1,dan:0,left:!0},{char:"z",yubi:3,dan:-1,left:!0},{char:"x",yubi:2,dan:-1,left:!0},{char:"c",yubi:1,dan:-1,left:!0},{char:"a",yubi:4,dan:0,left:!0},{char:"o",yubi:3,dan:1,left:!1},{char:"i",yubi:2,dan:1,left:!1},{char:"u",yubi:1,dan:1,left:!1},{char:"l",yubi:3,dan:0,left:!1},{char:"k",yubi:2,dan:0,left:!1},{char:"j",yubi:1,dan:0,left:!1},{char:".",yubi:3,dan:-1,left:!1},{char:",",yubi:2,dan:-1,left:!1},{char:"m",yubi:1,dan:-1,left:!1},{char:";",yubi:4,dan:0,left:!1},],j={zi:["'","'"],message:["(",")"],gramset:["[","]"]},M={word:"  ,  ",grammar:".",keitaiso_grammars:" - ",keitaiso:"/",zi:" ",zi_grammar:" ",whitespace:" ",listitem:", "},z={concatenation:3,stem:4,version:2,specification:4,function:2,context:4,affiliation:4,configuration:20,extension:6,perspective:4,essence:2,valence:9,phase:9,effect:9,level:9,mood:6,casescope:6,aspect:36,illocution:2,validation:8,illovali:17,case:68,casegroup:4,aspector:2,notspecified:1},E=new Map,O=new Map;function A(e){e.match(/^[wersdfzxcuiojklm,\.]+$/),e.match(/^[^wersdfzxcuiojklm,\.]+$/g);var r=[],t=!0,n=!0,a=!0,o=!0,i=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var f=c.value,v=f.match(/^[^wersdfzxcuiojklm,\.]+$/);console.log("ngone",v),v?(a=!1,0===r.length||t?(0===r.length&&(n=!1),r.push(f)):(r[r.length-1],r[r.length-1]+=f),t=!1):(0!==r.length&&t?(r[r.length-1],r[r.length-1]+=f):r.push(f),t=!0)}}catch(d){i=!0,l=d}finally{try{o||null==u.return||u.return()}finally{if(i)throw l}}var h=[];return a?h.push([e,"spell",0]):(r.forEach(function(e,r){var t=n===(r%2==0);h.push(t?[e,"spell",0]:[e,"errorhere",0])}),h=s(h).concat([[M.zi_grammar,"delem",0],["red invalid","abouterror",0]])),h}var N=function(e){switch(e){case"mojisu":return"字数";case"linebreak":return"行数";case"word":return"語数";default:return"??"}},I=function(e){var r=e.moji;S.forEach(function(e,r){E.set(r,e),O.set(e.char,r)});var t,n,a,o,u,f,v=(n=(t=void 0===r?"":r).split("\n"),a=(t.match(/\S+/g)||[]).length,o=0==n.length?0!=a?1:0:n.length,u=(t.match(/\S/g)||[]).length,f=(t.match(/\S +/g)||[]).length,{res:n.map(function(e,r){return function(e,r){var t=M.word,n=e.match(/\S+/g);if(!n)return[e,[]];var a=[],o=[],l=!1,c="root";for(var u in n){var f=n[u];if(void 0!=f){if(l){var v=i(x(f),2),d=v[0],h=v[1];if(!d)return["line[".concat(r,"] word[").concat(u,"] invalid kino: '").concat(f,"'"),[]];a.push("".concat(d," :kino")),o.push(s(h).concat([[" :","delem",0],["kino","attr",1]])),c="kino",l=!1}else{l=!0;var g=A(f);if(!g)return["line[".concat(r,"] word[").concat(u,"] invalid root: '").concat(f,"'"),[]];a.push("".concat(f," :root")),o.push(s(g).concat([[" :","delem",0],["root","attr",1]])),c="root"}}}var y=a.reduce(function(e,r){return e+t+r},""),m=[];return o.forEach(function(e){m=s(m).concat([[t,"delem",0]],s(e))}),"kino"!=c&&(y+="...",m.push(["...","other",0])),m.shift(),[y=y.substring(t.length),m]}(e,r)}),info:{mojisu:f==a?u+f-1:u+f,linebreak:o,word:a}}),d=new Map,h=(0,c.useState)(d);h[0],h[1];var g=v.res.map(function(e,r){var t=i(e,2),n=(t[0],t[1]);return(0,l.jsx)(c.Fragment,{children:(0,l.jsx)("div",{className:"gyo styled",children:n.map(function(e,t){var n=i(e,3),a=n[0],o=n[1],c=n[2],s="".concat(o," ").concat(o).concat(c),u="".concat(r).concat(a).concat(t);return"value"===o&&(u+="".concat(Math.random())),(0,l.jsx)("span",{className:s,children:a},u)})})},"gyo".concat(r))});return(0,l.jsxs)("div",{className:"output",children:[(0,l.jsx)("div",{className:"gloss",children:g}),(0,l.jsx)("div",{className:"info",children:v.info?(0,l.jsx)(l.Fragment,{children:["mojisu","word","linebreak"].map(function(e){var r=v.info[e];return(0,l.jsxs)("div",{className:"child",children:[N(e),": ",r]},e)})}):""})]})}}}]);